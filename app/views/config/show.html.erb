<% content_for :title, "設定 - #{blog_title}" %>

<!-- ブログ風設定ページ -->
<div class="max-w-2xl mx-auto">
  <!-- 設定ページヘッダー -->
  <header class="mb-12 text-center">
    <h1 class="text-2xl text-gray-900" style="font-family: 'Noto Sans JP', sans-serif; font-weight: 300;">
      設定
    </h1>
  </header>

  <!-- 設定フォーム -->
  <%= form_with url: config_path, method: :patch, local: true, class: "space-y-8" do |form| %>
    
    <!-- インスタンス情報セクション -->
    <section>
      <h2 class="text-lg text-gray-900 mb-4" style="font-family: 'Noto Sans JP', sans-serif; font-weight: 400;">
        インスタンス情報
      </h2>
      
      <div class="space-y-4">
        <div>
          <%= form.label "config[instance_name]", "インスタンス名", 
              class: "block text-sm text-gray-700 mb-2", 
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
          <%= form.text_field "config[instance_name]", 
              value: @config[:instance_name],
              placeholder: "インスタンス名（ブログタイトル）",
              class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-gray-500 transition-colors",
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
        </div>

        <div>
          <%= form.label "config[instance_description]", "説明", 
              class: "block text-sm text-gray-700 mb-2", 
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
          <%= form.text_area "config[instance_description]", 
              value: @config[:instance_description],
              placeholder: "インスタンスの説明",
              rows: 3,
              class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-gray-500 transition-colors resize-none",
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
        </div>

        <div>
          <%= form.label "config[instance_contact_email]", "連絡先メール", 
              class: "block text-sm text-gray-700 mb-2", 
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
          <%= form.email_field "config[instance_contact_email]", 
              value: @config[:instance_contact_email],
              placeholder: "contact@example.com",
              class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-gray-500 transition-colors",
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
        </div>

        <div>
          <%= form.label "config[instance_maintainer]", "管理者名", 
              class: "block text-sm text-gray-700 mb-2", 
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
          <%= form.text_field "config[instance_maintainer]", 
              value: @config[:instance_maintainer],
              placeholder: "管理者名",
              class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-gray-500 transition-colors",
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
        </div>

        <div>
          <%= form.label "config[blog_footer]", "フッター", 
              class: "block text-sm text-gray-700 mb-2", 
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
          <%= form.text_field "config[blog_footer]", 
              value: @config[:blog_footer],
              placeholder: "フッターに表示するテキスト",
              class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-gray-500 transition-colors",
              style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400;" %>
        </div>
      </div>
    </section>

    <!-- 保存ボタン -->
    <div class="pt-4">
      <%= link_to "設定を保存", "javascript:void(0)", 
          onclick: "this.closest('form').submit()",
          class: "text-gray-900 hover:text-gray-600 transition-colors",
          style: "font-family: 'Noto Sans JP', sans-serif; font-weight: 400; text-decoration: underline; text-underline-offset: 4px;" %>
    </div>
  <% end %>

  <!-- 成功メッセージ -->
  <% if flash[:notice] %>
    <div class="mt-6 p-4 bg-green-50 border border-green-200 rounded-md">
      <p class="text-sm text-green-700" style="font-family: 'Noto Sans JP', sans-serif; font-weight: 400;">
        <%= flash[:notice] %>
      </p>
    </div>
  <% end %>

  <!-- エラーメッセージ -->
  <% if flash[:alert] %>
    <div class="mt-6 p-4 bg-red-50 border border-red-200 rounded-md">
      <p class="text-sm text-red-700" style="font-family: 'Noto Sans JP', sans-serif; font-weight: 400;">
        <%= flash[:alert] %>
      </p>
    </div>
  <% end %>
</div>